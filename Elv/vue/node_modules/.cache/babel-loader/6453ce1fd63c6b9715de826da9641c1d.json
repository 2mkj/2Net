{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nimport _imports_0 from '../../assets/attach.png';\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-add77304\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = {\n  class: \"row\"\n};\nconst _hoisted_3 = {\n  class: \"col-lg-12\"\n};\nconst _hoisted_4 = {\n  class: \"table\"\n};\n\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", {\n  colspan: \"2\"\n}, \"MVC 게시판-view페이지\")])], -1\n/* HOISTED */\n));\n\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"td\", null, \"글쓴이\", -1\n/* HOISTED */\n));\n\nconst _hoisted_7 = {\n  key: 0\n};\nconst _hoisted_8 = {\n  key: 1\n};\n\nconst _hoisted_9 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"td\", null, \"제목\", -1\n/* HOISTED */\n));\n\nconst _hoisted_10 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"td\", null, \"내용\", -1\n/* HOISTED */\n));\n\nconst _hoisted_11 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"td\", null, \"첨부파일\", -1\n/* HOISTED */\n));\n\nconst _hoisted_12 = {\n  key: 0\n};\nconst _hoisted_13 = {\n  id: \"down\"\n};\n\nconst _hoisted_14 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_0\n}, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_15 = {\n  key: 1\n};\nconst _hoisted_16 = {\n  colspan: \"2\"\n};\n\nconst _hoisted_17 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"btn btn-primary start\"\n}, \"댓글\", -1\n/* HOISTED */\n));\n\nconst _hoisted_18 = {\n  id: \"count\"\n};\nconst _hoisted_19 = {\n  key: 0,\n  class: \"group\"\n};\n\nconst _hoisted_20 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"btn btn-warning\"\n}, \"수정\", -1\n/* HOISTED */\n));\n\nconst _hoisted_21 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"btn btn-info\"\n}, \"답변\", -1\n/* HOISTED */\n));\n\nconst _hoisted_22 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"btn btn-success\"\n}, \"목록\", -1\n/* HOISTED */\n));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"table\", _hoisted_4, [_hoisted_5, _createElementVNode(\"tbody\", null, [_createElementVNode(\"tr\", null, [_hoisted_6, _createElementVNode(\"td\", null, [$setup.board.board_SECRET == null ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, _toDisplayString($setup.board.board_NAME), 1\n  /* TEXT */\n  )) : _createCommentVNode(\"v-if\", true), $setup.board.board_SECRET != null ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, _toDisplayString($setup.board.board_SECRET), 1\n  /* TEXT */\n  )) : _createCommentVNode(\"v-if\", true)])]), _createElementVNode(\"tr\", null, [_hoisted_9, _createElementVNode(\"td\", null, _toDisplayString($setup.board.board_SUBJECT), 1\n  /* TEXT */\n  )]), _createElementVNode(\"tr\", null, [_hoisted_10, _createElementVNode(\"td\", null, _toDisplayString($setup.board.board_CONTENT), 1\n  /* TEXT */\n  )]), _createElementVNode(\"tr\", null, [_hoisted_11, $setup.board.board_FILE ? (_openBlock(), _createElementBlock(\"td\", _hoisted_12, [_createElementVNode(\"div\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $setup.download && $setup.download(...args))\n  }, [_createElementVNode(\"span\", _hoisted_13, [_hoisted_14, _createTextVNode(_toDisplayString($setup.board.board_ORIGINAL), 1\n  /* TEXT */\n  )])])])) : (_openBlock(), _createElementBlock(\"td\", _hoisted_15))]), _createElementVNode(\"tr\", null, [_createElementVNode(\"td\", _hoisted_16, [_hoisted_17, _createElementVNode(\"span\", _hoisted_18, _toDisplayString($setup.count), 1\n  /* TEXT */\n  ), $setup.board.board_NAME == $props.parent_id || $props.parent_id == 'admin' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_19, [_createVNode(_component_router_link, {\n    to: {\n      name: 'Board_Update'\n    }\n  }, {\n    default: _withCtx(() => [_hoisted_20]),\n    _: 1\n    /* STABLE */\n\n  }), _createElementVNode(\"button\", {\n    class: \"btn btn-danger\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $setup.showModal && $setup.showModal(...args))\n  }, \"삭제\")])) : _createCommentVNode(\"v-if\", true), _createVNode(_component_router_link, {\n    to: {\n      name: 'Board_Reply'\n    }\n  }, {\n    default: _withCtx(() => [_hoisted_21]),\n    _: 1\n    /* STABLE */\n\n  }), _createVNode(_component_router_link, {\n    to: {\n      name: 'Board_List'\n    }\n  }, {\n    default: _withCtx(() => [_hoisted_22]),\n    _: 1\n    /* STABLE */\n\n  })])])])])])])]);\n}","map":{"version":3,"mappings":"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","names":["_imports_0","class","_createElementVNode","colspan","id","src","_createElementBlock","_hoisted_5","_hoisted_6","$setup","board_SECRET","_hoisted_7","_toDisplayString","board_NAME","_hoisted_8","_hoisted_9","board_SUBJECT","_hoisted_10","board_CONTENT","_hoisted_11","board_FILE","_hoisted_12","onClick","_hoisted_14","board_ORIGINAL","_hoisted_15","_hoisted_17","$props","_createVNode","_component_router_link","to","name","_hoisted_20","_hoisted_21","_hoisted_22"],"sourceRoot":"","sources":["C:\\Users\\user\\vue\\simple_vue_project\\Elv\\vue\\src\\component\\board\\board_detail.vue"],"sourcesContent":["<template>\r\n <div class=\"container\">\r\n    <div class=\"row\">\r\n         <div class=\"col-lg-12\">\r\n\t\t<table class=\"table\">\r\n\t\t\t<thead>\r\n\t\t\t<tr>\r\n\t\t\t\t<th colspan=\"2\">MVC 게시판-view페이지</th>\r\n\t\t\t</tr>\r\n\t\t\t</thead>\r\n\t\t\t<tbody>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>글쓴이</td>\r\n\t\t\t\t<td>\r\n\t\t\t\t<div v-if=\"board.board_SECRET==null\">{{board.board_NAME}}</div>\r\n                <div v-if=\"board.board_SECRET!=null\">{{board.board_SECRET}}</div>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>제목</td>\r\n\t\t\t\t<td>{{board.board_SUBJECT}}</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>내용</td>\r\n\t\t\t\t<td>{{board.board_CONTENT}}</td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>첨부파일</td>\r\n\t\t\t\t<td v-if=\"board.board_FILE\">\r\n\t\t\t\t <div @click=\"download\">\r\n\t\t\t\t\t<span id=\"down\"><img src=\"../../assets/attach.png\">{{board.board_ORIGINAL}}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t</td>\r\n\t\t\t\t<td v-else></td>\r\n\t\t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td colspan=\"2\">\r\n\t\t\t\t\t<button class=\"btn btn-primary start\">댓글</button>\r\n\t\t\t\t\t<span id=\"count\">{{count}}</span>\r\n\r\n\t\t\t\t\t<div class=\"group\"\r\n\t\t\t\t\t\tv-if=\"board.board_NAME == parent_id || parent_id == 'admin'\">\r\n\t\t\t\t\t\t<router-link :to=\"{name:'Board_Update'}\">\r\n\t\t\t\t\t\t\t<button class=\"btn btn-warning\">수정</button>\r\n\t\t\t\t\t\t</router-link>\r\n\t\t\t\t\t\t<button class=\"btn btn-danger\" @click=\"showModal\">삭제</button>\r\n\t\t\t\t\t</div>\t\r\n\t\t\t\t\t<router-link :to=\"{name:'Board_Reply'}\">\r\n\t\t\t\t\t\t\t<button class=\"btn btn-info\">답변</button>\r\n\t\t\t\t\t</router-link>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t<router-link :to=\"{name:'Board_List'}\">\r\n\t\t\t\t\t\t\t<button class=\"btn btn-success\">목록</button>\r\n\t\t\t\t\t</router-link>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t\t</tbody>\r\n\t\t</table>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, computed } from 'vue';\r\nimport { useRoute, useRouter } from 'vue-router';\r\nimport { useStore } from 'vuex';\r\nimport axios from '../../axios/axiossetting.js';\r\nexport default {\r\n\tprops:{\r\n\t\tparent_id:{\r\n\t\t\ttype:String,\r\n\t\t\trequired : true\r\n\t\t}\r\n\t},\r\n\tsetup(){\r\n\t\t//board_list.vue <router-link :to=\"{name:'Board_Detail',params:{num:`${itme.board_NUM}`}}\"로\r\n\t\t//이동할때 사용된 파라미터 num을 가져옵니다.\r\n\t\tconst num = useRoute().params.num;\r\n\r\n\t\tconst board=ref({});\r\n\t\tconst router=useRouter();\r\n\t\tconst getDetail = async ()=>{\r\n\t\t\ttry{\r\n\t\t\t\tconst res = await axios.get(`boards/${num}`);\r\n\t\t\t\tconsole.log(res.data);\r\n\t\t\t\tboard.value=res.data.board;\r\n\t\t\t\tif(board.value==null){\r\n\t\t\t\t\tconsole.log('null입니다.');\r\n\t\t\t\t\trouter.push(\"{name:'404'}\")\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}catch(err){\r\n\t\t\t\tconsole.log(err)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tgetDetail();\r\n\r\n\t\tconst store=useStore();\r\n\t\tconst count = computed(()=>{\r\n\t\t\treturn store.state.count;\r\n\t\t})\r\n\r\n\t\tconst download = async() => {\r\n\t\t\tconsole.log(board.value.board_FILE);\r\n\t\t\tconsole.log(board.value.board_ORIGINAL);\r\n\t\t\ttry{\r\n\t\t\t\r\n\t\t\t//Blob(Binary Large Object: Blob객체는 text나 2진 데이터 형태로 읽을 수 있습니다.)\r\n\t\t\t\tconst res=await axios.get('boards/down',\r\n\t\t\t\t\t\t\t{  params: {\r\n\t\t\t\t\t\t\t\tfilename: board.value.board_FILE,\r\n\t\t\t\t\t\t\t\toriginal :board.value.board_ORIGINAL\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tresponseType: 'blob'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t);\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\r\n\t\t\tlet bb = new Blob( [res.data]);\r\n\t\t\t//URL.createObjectURL() 정적 메서드는 주어진 객체를 가리키는 URL을 DOMString으로 반환합니다.\r\n\t\t\t//DOMString은 UTF-16 문자열입니다. JavaScript의 String도 UTF-16 문자열이기 때문에 DOMString 은 String으로 연결됩니\r\n\t\t\t// 객체 URL을 해제하려면 revokeObjectURL()을 호출하세요.\r\n\t\t\tlet url=window.URL.createObjectURL (bb);\r\n\t\t\t\r\n\t\t\t//<a href=\"\" download=\"파일오리지널이름\">엘리먼트 생성 후 클릭=>다운로드 수행=>엘리먼트 제거\r\n\t\t\tconst a=document.createElement('a'); // <a> 엘리먼트 생성\r\n\t\t\tlet filename = board.value.board_ORIGINAL;\r\n\t\t\tconsole.log(`filename=${filename}`); //Lemon.png\r\n\r\n\t\t\ta.href=url;\r\n\r\n\t\t\ta.setAttribute('download', `${filename}`);\r\n\r\n\t\t\ta.style.cssText = 'display:none';\r\n\r\n\t\t\tconsole.log(a);\r\n\r\n\t\t\tdocument.body.appendChild(a);\r\n\t\t\ta.click();\r\n\t\t\ta.remove();\r\n\t\t\twindow.URL.revokeObjectURL(url);\r\n\t\t\t}catch(error){\r\n\t\t\t\tconsole.log(error)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst showModal = ()=>{\r\n\t\t\t//store에 값을 변경합니다.\r\n\t\t\tstore.dispatch('display', true);\r\n\t\t}\r\n\r\n\t\treturn{\r\n\t\t\tboard, download\r\n\t\t\t,count, showModal\r\n\t\t}\r\n\t}\r\n\r\n}\r\n</script>\r\n\r\n<style  scoped>\r\n\r\n\timg {\r\n\t\twidth:20px;\r\n\t}\r\n\t\r\n\t table > thead,table > tbody > tr:nth-last-child(1) {\r\n\t\ttext-align: center\r\n\t}\r\n\t\r\n\ttd:nth-child(1) {\r\n\t\twidth: 20%\r\n\t}\r\n\t\r\n\t\r\n\ttable > tbody >tr:nth-child(5)>td:nth-child(2)>a {\r\n\t\tcolor: black\r\n\t}\r\n\t\r\n\t\r\n\t.btn-primary {\r\n\t\tbackground-color: #4f97e5\r\n\t}\r\n\t\r\n\t.group{display: inline-block}\r\n\tbutton{\r\n\t\tmargin-left:20px;\r\n\t}\r\n\t\r\n\t#comment > table > tbody > tr > td:nth-child(2){\r\n\t width:60%\r\n\t}\r\n\t#count{\r\n\t position: relative;\r\n\t\ttop: -10px;\r\n\t\tleft: -10px;\r\n\t\tbackground: orange;\r\n\t\tcolor: white;\r\n\t\tborder-radius: 30%;\r\n\t}\r\n\t\r\n\t#down{\r\n\t\tcursor:pointer\r\n\t}\r\n\t\r\n\t</style>\r\n\t\r\n"]},"metadata":{},"sourceType":"module"}