{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, vModelSelect as _vModelSelect, withDirectives as _withDirectives, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createStaticVNode as _createStaticVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nimport _imports_0 from '../../assets/line.gif';\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-f6481cea\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  key: 0\n};\nconst _hoisted_2 = {\n  class: \"rows\"\n};\n\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"줄보기\", -1\n/* HOISTED */\n));\n\nconst _hoisted_4 = /*#__PURE__*/_createStaticVNode(\"<option value=\\\"1\\\" data-v-f6481cea>1</option><option value=\\\"3\\\" data-v-f6481cea>3</option><option value=\\\"5\\\" data-v-f6481cea>5</option><option value=\\\"7\\\" data-v-f6481cea>7</option><option value=\\\"10\\\" selected data-v-f6481cea>10</option>\", 5);\n\nconst _hoisted_9 = [_hoisted_4];\nconst _hoisted_10 = {\n  class: \"table table-striped\"\n};\n\nconst _hoisted_11 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"th\", {\n  colspan: \"3\"\n}, \"MVC 게시판 - list\", -1\n/* HOISTED */\n));\n\nconst _hoisted_12 = {\n  colspan: \"2\"\n};\n\nconst _hoisted_13 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", null, [/*#__PURE__*/_createElementVNode(\"div\", null, \"번호\")]), /*#__PURE__*/_createElementVNode(\"th\", null, [/*#__PURE__*/_createElementVNode(\"div\", null, \"제목\")]), /*#__PURE__*/_createElementVNode(\"th\", null, [/*#__PURE__*/_createElementVNode(\"div\", null, \"작성자\")]), /*#__PURE__*/_createElementVNode(\"th\", null, [/*#__PURE__*/_createElementVNode(\"div\", null, \"날짜\")]), /*#__PURE__*/_createElementVNode(\"th\", null, [/*#__PURE__*/_createElementVNode(\"div\", null, \"조회수\")])], -1\n/* HOISTED */\n));\n\nconst _hoisted_14 = {\n  key: 0,\n  src: _imports_0\n};\nconst _hoisted_15 = {\n  class: \"gray small\"\n};\n\nconst _hoisted_16 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"center\"\n}, \" 등록된 글이 없습니다. \", -1\n/* HOISTED */\n));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createCommentVNode(\" 게시글이 있는 경우 \"), $setup.listcount > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _withDirectives(_createElementVNode(\"select\", {\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.limit = $event)\n  }, _hoisted_9, 512\n  /* NEED_PATCH */\n  ), [[_vModelSelect, $setup.limit]])]), _createElementVNode(\"table\", _hoisted_10, [_createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_hoisted_11, _createElementVNode(\"th\", _hoisted_12, [_createElementVNode(\"span\", null, \"글 개수 : \" + _toDisplayString($setup.listcount), 1\n  /* TEXT */\n  )])]), _hoisted_13]), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.list, (item, index) => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: index\n    }, [_createElementVNode(\"td\", null, _toDisplayString($setup.startnum - index), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, [_createVNode(_component_router_link, {\n      to: {\n        name: 'Board_Detail',\n        params: {\n          num: `${item.board_NUM}`\n        }\n      }\n    }, {\n      default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item.board_RE_LEV * 2, num => {\n        return _openBlock(), _createElementBlock(\"span\", {\n          key: num\n        }, \"  \");\n      }), 128\n      /* KEYED_FRAGMENT */\n      )), item.board_RE_LEV > 0 ? (_openBlock(), _createElementBlock(\"img\", _hoisted_14)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"span\", null, _toDisplayString(item.board_SUBJECT), 1\n      /* TEXT */\n      )]),\n      _: 2\n      /* DYNAMIC */\n\n    }, 1032\n    /* PROPS, DYNAMIC_SLOTS */\n    , [\"to\"]), _createElementVNode(\"span\", _hoisted_15, \" [\" + _toDisplayString(item.cnt) + \"]\", 1\n    /* TEXT */\n    )]), _createElementVNode(\"td\", null, [_createElementVNode(\"div\", null, _toDisplayString(item.board_NAME), 1\n    /* TEXT */\n    )]), _createElementVNode(\"td\", null, [_createElementVNode(\"div\", null, _toDisplayString(item.board_DATE), 1\n    /* TEXT */\n    )]), _createElementVNode(\"td\", null, [_createElementVNode(\"div\", null, _toDisplayString(item.board_READCOUNT), 1\n    /* TEXT */\n    )])]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))])])])) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 1\n  }, [_createCommentVNode(\"게시글이 없는 경우 \"), _hoisted_16], 2112\n  /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */\n  ))], 2112\n  /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":"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","names":["_imports_0","class","_createElementVNode","_hoisted_4","colspan","src","_createCommentVNode","$setup","_createElementBlock","_hoisted_1","_hoisted_3","$event","_hoisted_11","_toDisplayString","_hoisted_13","_Fragment","_renderList","item","index","key","_createVNode","_component_router_link","to","name","params","num","board_NUM","board_RE_LEV","board_SUBJECT","cnt","board_NAME","board_DATE","board_READCOUNT","_hoisted_16"],"sourceRoot":"","sources":["C:\\Users\\user\\vue\\simple_vue_project\\Elv\\vue\\src\\component\\board\\board_list.vue"],"sourcesContent":["<template>\r\n    <!-- 게시글이 있는 경우 -->\r\n  <div v-if=\"listcount>0\">\r\n            <div class=\"rows\">\r\n            <span>줄보기</span>\r\n        <select class=\"form-control\" v-model=\"limit\">\r\n            <option value=\"1\">1</option>\r\n            <option value=\"3\">3</option>\r\n            <option value=\"5\">5</option>\r\n            <option value=\"7\">7</option>\r\n            <option value=\"10\" selected>10</option>\r\n        </select>\r\n        </div>\r\n        <table class=\"table table-striped\">\r\n        <thead>\r\n        <tr>\r\n            <th colspan=\"3\">MVC 게시판 - list</th>\r\n            <th colspan=\"2\">\r\n                    <span>글 개수 : {{listcount}}</span>\r\n            </th>\r\n            </tr> \r\n            <tr>\r\n                <th><div>번호</div></th>\r\n                <th><div>제목</div></th>\r\n                <th><div>작성자</div></th>\r\n                <th><div>날짜</div></th>\r\n                <th><div>조회수</div></th>\r\n            </tr>\r\n            </thead>\r\n            <tbody>\r\n            <tr v-for=\"(item, index) in list\" :key=\"index\">\r\n            <td>{{startnum-index}}</td>\r\n            <td><router-link :to=\"{name:'Board_Detail', params:{num:`${item.board_NUM}`}}\">\r\n                        <span v-for=\"num in item.board_RE_LEV*2\" :key=\"num\">&nbsp;&nbsp;</span>\r\n                        <img v-if=\"item.board_RE_LEV>0\" src=\"../../assets/line.gif\">\r\n                        <span>{{item.board_SUBJECT}}</span>\r\n                    </router-link><span class=\"gray small\">&ensp;[{{item.cnt}}]</span>\r\n            </td>\r\n            <td><div>{{item.board_NAME}}</div></td>\r\n            <td><div>{{item.board_DATE}}</div></td>\r\n            <td><div>{{item.board_READCOUNT}}</div></td>\r\n            </tr>\r\n            </tbody>\r\n            </table>\r\n        </div> \r\n        <!--게시글이 없는 경우 -->\r\n        <div v-else class=\"center\">\r\n                등록된 글이 없습니다.\r\n        </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref,watch} from 'vue';\r\nimport { useStore } from 'vuex';\r\nimport axios from '../../axios/axiossetting.js';\r\nexport default {\r\n\r\n        setup(){\r\n            const store = useStore();\r\n            const limit = ref(10);\r\n            let currentpage = 1;\r\n            let maxpage = 1;\r\n            const listcount = ref(0);\r\n            const list = ref([]);\r\n            const startnum = ref(0)\r\n\r\n            //줄보기가 바뀌는 경우 getList() 호출합니다.\r\n            watch(limit, ()=>{\r\n                console.log(\"[board_list.vue : store.state.page] \" + store.state.page)\r\n                getList(store.state.page);\r\n            })\r\n\r\n            //페이지 네이션의 페이지 번호를 클릭한 경우 pageDo.vue에서 store.page값을 선택한 페이지\r\n            //그 때 getList() 호출합니다.\r\n            watch(()=>store.state.page, ()=>{\r\n                console.log(\"[board_list.vue : store.state.page] \" + store.state.page)\r\n                getList(store.state.page);\r\n            })\r\n\r\n            const getList = async (page) => {\r\n\r\n                try{\r\n                    const res = await axios.get(`boards?page=${page}&limit=${limit.value}`);\r\n\r\n                    list.value = res.data.boardlist;\r\n                    listcount.value=res.data.listcount;\r\n                    maxpage= res.data.maxpage;\r\n                    currentpage=res.data.page;\r\n                    startnum.value=listcount.value-(currentpage-1)*limit.value;\r\n                    console.log(\"page의 startnum.value = \"+ startnum.value);\r\n\r\n                    const pagelist = ref([]);\r\n                    for (let i=res.data.startpage; i<= res.data.endpage; i++){\r\n                        pagelist.value.push(i);\r\n                    }\r\n\r\n                    //pageDo.vue에서 사용하기 위해 store에 저장합니다.\r\n                    const obj = {maxpage, currentpage, pagelist};\r\n                    store.dispatch('store_obj', obj);\r\n                }catch(err){\r\n                    console.log(err);\r\n                }\r\n            };\r\n            \r\n            getList(1);\r\n\r\n            return{\r\n                limit, listcount, list, startnum, \r\n            }\r\n    } //setup\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n    select.form-control{\r\n      width:auto;margin-bottom:2em;display:inline-block;\r\n    }\r\n    .rows{text-align:right;}\r\n    .center{text-align:center}\r\n    </style>\r\n    "]},"metadata":{},"sourceType":"module"}