{"ast":null,"code":"import { ref, computed } from 'vue';\nimport { useRoute, useRouter } from 'vue-router';\nimport { useStore } from 'vuex';\nimport axios from '../axios/axiossetting.js';\nexport default {\n  setup() {\n    const num = useRoute().params.num;\n    console.log(num);\n    const BOARD_PASS = ref('');\n    const router = useRouter();\n    const store = useStore();\n    const display = computed(() => store.state.display);\n\n    const hidden = () => {\n      BOARD_PASS.value = ''; //비밀번호 입력 후 취소를 클릭하면 비밀번호가 남아있어 초기화합니다.\n\n      store.dispatch('display', false);\n    };\n\n    const goDelete = async () => {\n      const res = await axios.delete(`boards/${num}`, {\n        params: {\n          password: BOARD_PASS.value\n        }\n      });\n\n      if (res.data == 0) {\n        alert('비번 오류 입니다.');\n      } else if (res.data == -1) {\n        alert('삭제 실패 입니다.');\n      } else {\n        alert('삭제 성공');\n        store.dispatch('display', false);\n        router.push({\n          name: 'Board_List'\n        });\n      }\n    };\n\n    return {\n      hidden,\n      goDelete,\n      BOARD_PASS,\n      display\n    };\n  }\n\n};","map":{"version":3,"mappings":"AAyBA,SAASA,GAAT,EAAcC,QAAd,QAA8B,KAA9B;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,YAApC;AACA,SAASC,QAAT,QAAyB,MAAzB;AACA,OAAOC,KAAP,MAAkB,0BAAlB;AACA,eAAe;EAEdC,KAAK,GAAE;IACN,MAAMC,GAAE,GAAIL,QAAQ,GAAGM,MAAX,CAAkBD,GAA9B;IACAE,OAAO,CAACC,GAAR,CAAYH,GAAZ;IACA,MAAMI,UAAU,GAACX,GAAG,CAAC,EAAD,CAApB;IACA,MAAMY,MAAK,GAAIT,SAAS,EAAxB;IACA,MAAMU,KAAI,GAAIT,QAAQ,EAAtB;IAEA,MAAMU,OAAM,GAAIb,QAAQ,CAAC,MAAIY,KAAK,CAACE,KAAN,CAAYD,OAAjB,CAAxB;;IAEA,MAAME,MAAM,GAAC,MAAI;MAChBL,UAAU,CAACM,KAAX,GAAiB,EAAjB,CADgB,CACK;;MACrBJ,KAAK,CAACK,QAAN,CAAe,SAAf,EAAyB,KAAzB;IACD,CAHA;;IAKA,MAAMC,QAAQ,GAAC,YAAS;MACvB,MAAMC,GAAE,GAAI,MAAMf,KAAK,CAACgB,MAAN,CAAc,UAASd,GAAI,EAA3B,EACV;QACCC,MAAM,EAAC;UAACc,QAAQ,EAACX,UAAU,CAACM;QAArB;MADR,CADU,CAAlB;;MAKA,IAAGG,GAAG,CAACG,IAAJ,IAAY,CAAf,EAAiB;QAChBC,KAAK,CAAC,YAAD,CAAL;MACA,CAFD,MAEM,IAAGJ,GAAG,CAACG,IAAJ,IAAY,CAAC,CAAhB,EAAkB;QACvBC,KAAK,CAAC,YAAD,CAAL;MACA,CAFK,MAED;QACJA,KAAK,CAAC,OAAD,CAAL;QACAX,KAAK,CAACK,QAAN,CAAe,SAAf,EAA0B,KAA1B;QACAN,MAAM,CAACa,IAAP,CAAY;UACXC,IAAG,EAAI;QADI,CAAZ;MAGD;IACD,CAjBA;;IAmBA,OAAM;MACLV,MADK;MACGG,QADH;MACaR,UADb;MACyBG;IADzB,CAAN;EAGD;;AAtCc,CAAf","names":["ref","computed","useRoute","useRouter","useStore","axios","setup","num","params","console","log","BOARD_PASS","router","store","display","state","hidden","value","dispatch","goDelete","res","delete","password","data","alert","push","name"],"sourceRoot":"","sources":["C:\\Users\\sijun\\Documents\\카카오톡 받은 파일\\simple_vue_project\\Elv\\vue\\src\\component\\modalDo.vue"],"sourcesContent":["\r\n<template>\r\n  <div class=\"modal1 bg\" v-show=\"display\">\r\n\t\t\t<div class=\"modal-dialog\">\r\n\t\t\t\t<div class=\"modal-content\">\r\n\t\t\t\t\t<div class=\"modal-body\">\r\n\t\t\t\t\t\t<form @submit.prevent=\"goDelete\">\r\n\r\n\t\t\t\t\t\t\t <div class=\"form-group\">\r\n\t\t\t\t\t\t\t \t<label for=\"pwd\">비밀번호</label>\r\n\t\t\t\t\t\t\t \t<input type=\"password\"\r\n\t\t\t\t\t\t\t \t\t\tclass=\"form-control\" placeholder=\"Enter password\"\r\n\t\t\t\t\t\t\t \t\t\tv-model.lazy=\"BOARD_PASS\" required>\r\n\t\t\t\t\t\t\t </div>\r\n\t\t\t\t\t\t\t <button type=\"submit\" class=\"btn btn-primary\">전송</button>\r\n\t\t\t\t\t\t\t <button type=\"button\" class=\"btn btn-danger\" \r\n\t\t\t\t\t\t\t \t\t data-dismiss=\"modal\" @click=\"hidden\">취소</button>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, computed } from 'vue';\r\nimport { useRoute, useRouter } from 'vue-router';\r\nimport { useStore } from 'vuex';\r\nimport axios from '../axios/axiossetting.js';\r\nexport default {\r\n\r\n\tsetup(){\r\n\t\tconst num = useRoute().params.num;\r\n\t\tconsole.log(num);\r\n\t\tconst BOARD_PASS=ref('');\r\n\t\tconst router = useRouter();\r\n\t\tconst store = useStore();\r\n\r\n\t\tconst display = computed(()=>store.state.display);\r\n\r\n\t\tconst hidden=()=>{\r\n\t\t\tBOARD_PASS.value=''; //비밀번호 입력 후 취소를 클릭하면 비밀번호가 남아있어 초기화합니다.\r\n\t\t\tstore.dispatch('display',false);\r\n\t\t}\r\n\r\n\t\tconst goDelete=async()=>{\r\n\t\t\tconst res = await axios.delete(`boards/${num}`,\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\tparams:{password:BOARD_PASS.value}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\tif(res.data == 0){\r\n\t\t\t\talert('비번 오류 입니다.');\r\n\t\t\t}else if(res.data == -1){\r\n\t\t\t\talert('삭제 실패 입니다.')\r\n\t\t\t}else{\r\n\t\t\t\talert('삭제 성공');\r\n\t\t\t\tstore.dispatch('display', false);\r\n\t\t\t\trouter.push({\r\n\t\t\t\t\tname : 'Board_List',\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn{\r\n\t\t\thidden, goDelete, BOARD_PASS, display\r\n\t\t}\r\n\t}\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\t.modal1 {\r\n\t   top: 0;\r\n\t   left: 0;\r\n\t   overflow: hidden;\r\n\t   outline: 0;\r\n\t}\r\n\t.bg{\r\n\t   width:100%;\r\n\t   height:100%;\r\n\t   background:rgba(0,0,0,0.5);\r\n\t   position:fixed;padding:20px\r\n\t   }\r\n   \r\n   \r\n   </style>\r\n   "]},"metadata":{},"sourceType":"module"}